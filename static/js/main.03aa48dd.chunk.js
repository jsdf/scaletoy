(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(24)},21:function(e,n,t){},22:function(e,n,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},23:function(e,n,t){},24:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(14),o=t.n(c),i=(t(21),t(4)),u=t(3),l=(t(22),t(23),t(1)),s=t(8),m=t(12);var f=["major","minor","minor","major","major","minor","diminished"],d=["I","ii","iii","VI","V","vi","vii*"];function v(e){return s.a(e+" major").notes.map(function(e,n){return t=s.b(f[n]),r=e,t.map(function(e){return m.a("".concat(r).concat(e))}).sort(function(e,n){return e.intervals.length-n.intervals.length}).map(function(e){return"".concat(e.tonic).concat(e.aliases[0])});var t,r})}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"c",n=s.a("".concat(e," ").concat("major")).notes,t=new Map(v(e).map(function(e,n){return[n,e.map(function(e){var n=m.a(e);return{chord:n,chordName:e,size:n.intervals.length*("Unknown"===n.quality?-1:1)}}).filter(function(e){return"Unknown"!==e.chord.quality})]})),r=new Set;return t.forEach(function(e,n){e.forEach(function(e){r.add(e.size)})}),{scaleType:"major",key:e,scalePitchClasses:n,scalePosChords:t,sizes:Array.from(r).sort(function(e,n){return e-n})}}var p={border:"solid 1px #ccc",display:"block",width:"100%",cursor:"pointer"},g=1/90*60,E=144,b=128,k=80,y=!1;function w(e,n,t,r){var a=l.b(n).midi,c=e;return e.forEach(function(e){e.message[1]==a&&(e.time=t-.01,e.message[0]=b)}),function(e,n){var t=e.concat(n);return t.sort(function(e,n){return e.time-n.time}),t}(c,[{message:[E,a,k],time:t},{message:[b,a,k],time:r}])}function j(){var e,n,t=s.a("c4 major").notes;return t.push((e=l.b(t[0]),n=1,"".concat(e.pc).concat(e.oct+n))),t}var C=function(){var e=a.a.useRef(null),n=a.a.useCallback(function(){return e.current&&e.current.actx.resume()},[e.current]),t=a.a.useCallback(function(){return e.current&&e.current.actx.suspend()},[e.current]),r=a.a.useState(h("c")),c=Object(u.a)(r,2),o=c[0],s=c[1],m=a.a.useState([]),f=Object(u.a)(m,2),v=f[0],C=f[1],x=a.a.useCallback(function(){C(function(n){var t=e.current?e.current.actx:null;if(null!=t){var r=n,a=j(),c=t.currentTime,o=0;return a.forEach(function(e){r=w(r,e,c+(o+=g),c+o+g)}),r}})}),I=a.a.useCallback(function(n,t){C(function(r){var a=e.current?e.current.actx:null;if(null!=a){var c=r,o=a.currentTime;return n.forEach(function(e,n){c=w(c,e+t,o+.02*n,o+g)}),c}})}),O=a.a.useState(null),N=Object(u.a)(O,2),S=N[0],T=N[1],z=a.a.useState(4),P=Object(u.a)(z,2),A=P[0],M=P[1];return a.a.useEffect(function(){window.onDX7Init=function(n,t){var r={dx7:n,actx:t};if(e.current=r,setInterval(function(){C(function(e){return function(e,n){for(var t=0;t<e.length;t++){var r=e[t];if(r.time>n.actx.currentTime)break;n.dx7.onMidi(r.message)}return 0===t?e:e.slice(t)}(e,r)})},1),y){var a=j(),c=0,o=null;setInterval(function(){null!=o&&n.onMidi([b,l.b(a[o]).midi,k]),n.onMidi([E,l.b(a[c]).midi,k]),o=c,c=(c+1)%a.length},1e3*g)}},initDX7()},[]),a.a.createElement("div",{className:"App"},a.a.createElement("button",{onClick:n},"start audio"),a.a.createElement("button",{onClick:t},"pause audio"),a.a.createElement("div",null,a.a.createElement("button",{onClick:x},"play scale"),a.a.createElement("br",null),"key:"," ",a.a.createElement("select",{value:o.key,onChange:function(e){return s(h(e.currentTarget.value))}},["a","b","c","d","e","f","g"].map(function(e){return a.a.createElement("option",{key:e,value:e},e)}))," ","octave:"," ",a.a.createElement("select",{value:A,onChange:function(e){return M(parseInt(e.currentTarget.value))}},[1,2,3,4,5,6,7].map(function(e){return a.a.createElement("option",{key:e,value:e},e)}))," ","scale notes:"," ",Array.from(o.scalePosChords.keys()).map(function(e){return o.scalePitchClasses[e]}).join()),o.sizes.map(function(e,n){return a.a.createElement("div",null,!1,a.a.createElement("br",null),a.a.createElement("div",{key:e,style:{display:"flex"}},Array.from(o.scalePosChords).map(function(t){var r=Object(u.a)(t,2),c=r[0],o=r[1];return a.a.createElement("div",{key:c,style:{flex:1}},0===n&&a.a.createElement("div",null,d[c]),o.filter(function(n){return n.size===e}).map(function(e,n){return a.a.createElement("div",{key:n},a.a.createElement("div",{style:Object(i.a)({},p,{background:e.chordName===S?"lightgrey":null}),onClick:function(){I(e.chord.notes,A),T(e.chordName),console.log(e)}},e.chordName,a.a.createElement(a.a.Fragment,null,a.a.createElement("br",null),a.a.createElement("small",null,e.chord.notes.join())),!1))}))})))}),a.a.createElement("pre",{style:{height:300,overflow:"scroll"}},v.map(function(e){return JSON.stringify(e)}).join("\n")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,1,2]]]);
//# sourceMappingURL=main.03aa48dd.chunk.js.map