{"version":3,"sources":["samples/dexed-epiano-C2.m4a","samples/dexed-epiano-Ds2.m4a","samples/dexed-epiano-Fs2.m4a","samples/dexed-epiano-A2.m4a","sampledDX7.js"],"names":["module","exports","__webpack_require__","p","sampledDX7","_sampledDX","apply","this","arguments","_callee","actx","dx7","_Users_jfriend_code_scaletoy_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","Promise","resolve","Tone","getContext","sent","sampler","Sampler","C3","require","D#3","F#3","A3","console","log","toMaster","connect","dest","disconnect","onMidi","_ref","_ref2","Object","_Users_jfriend_code_scaletoy_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","type","note","velo","triggerAttack","Frequency","context","currentTime","triggerRelease","abrupt","stop"],"mappings":"4EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,gECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,iECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,iECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yLCuDjC,SAAeC,IAAtB,OAAAC,EAAAC,MAAAC,KAAAC,sDAAO,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAC,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EALE,IAAIC,QAAQ,SAAAC,GACjBC,IAAKC,WAAWF,KAIb,cACCT,EADDK,EAAAO,KAAAP,EAAAE,KAAA,EAlDE,IAAIC,QAAQ,SAAAC,GACjB,IAAMI,EAAU,IAAIH,IAAKI,QACvB,CACEC,GAAIC,EAAQ,IACZC,MAAOD,EAAQ,IACfE,MAAOF,EAAQ,IACfG,GAAIH,EAAQ,KAEd,WACEI,QAAQC,IAAI,oBAEdC,WA6BFb,EA3BY,CACVc,QADU,SACFC,GACNX,EAAQU,QAAQC,IAElBC,WAJU,SAICD,GACTX,EAAQY,WAAWD,IAErBE,OAPU,SAAAC,GAOiB,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAF,EAAA,GAAnBI,EAAmBH,EAAA,GAAbI,EAAaJ,EAAA,GAAPK,EAAOL,EAAA,GACzB,OAAQG,GACN,KAAK,IACHlB,EAAQqB,cACN,IAAIC,IAAUH,EAAM,QACpBtB,IAAK0B,QAAQC,YACbJ,EAAO,KAET,MACF,KAAK,IACHpB,EAAQyB,eACN,IAAIH,IAAUH,EAAM,QACpBtB,IAAK0B,QAAQC,YACbJ,EAAO,WAiBd,cAEChC,EAFDI,EAAAO,KAAAP,EAAAkC,OAAA,SAGE,CACLvC,OACAC,QALG,wBAAAI,EAAAmC,SAAAzC","file":"static/js/3.cb11a6aa.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/dexed-epiano-C2.27b8774e.m4a\";","module.exports = __webpack_public_path__ + \"static/media/dexed-epiano-Ds2.afd18e11.m4a\";","module.exports = __webpack_public_path__ + \"static/media/dexed-epiano-Fs2.bef162da.m4a\";","module.exports = __webpack_public_path__ + \"static/media/dexed-epiano-A2.31b946a6.m4a\";","import Tone from 'tone/Tone/core/Tone';\nimport Sampler from 'tone/Tone/instrument/Sampler';\nimport Frequency from 'tone/Tone/type/Frequency';\n\nfunction createDX7() {\n  return new Promise(resolve => {\n    const sampler = new Tone.Sampler(\n      {\n        C3: require('./samples/dexed-epiano-C2.m4a'),\n        'D#3': require('./samples/dexed-epiano-Ds2.m4a'),\n        'F#3': require('./samples/dexed-epiano-Fs2.m4a'),\n        A3: require('./samples/dexed-epiano-A2.m4a'),\n      },\n      function() {\n        console.log('samples loaded');\n      }\n    ).toMaster();\n\n    const dx7 = {\n      connect(dest) {\n        sampler.connect(dest);\n      },\n      disconnect(dest) {\n        sampler.disconnect(dest);\n      },\n      onMidi([type, note, velo]) {\n        switch (type) {\n          case 0x90:\n            sampler.triggerAttack(\n              new Frequency(note, 'midi'),\n              Tone.context.currentTime,\n              velo / 127\n            );\n            break;\n          case 0x80:\n            sampler.triggerRelease(\n              new Frequency(note, 'midi'),\n              Tone.context.currentTime,\n              velo / 127\n            );\n            break;\n        }\n      },\n    };\n\n    resolve(dx7);\n  });\n}\n\nfunction getContext() {\n  return new Promise(resolve => {\n    Tone.getContext(resolve);\n  });\n}\n\nexport async function sampledDX7() {\n  const actx = await getContext();\n  const dx7 = await createDX7();\n  return {\n    actx,\n    dx7,\n  };\n}\n"],"sourceRoot":""}